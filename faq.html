<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FAQ &mdash; Bento v0.0.3dev8590e92813 documentation</title>
    <link rel="stylesheet" href="static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '0.0.3dev8590e92813',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Bento v0.0.3dev8590e92813 documentation" href="index.html" />
    <link rel="next" title="Milestone" href="TODO.html" />
    <link rel="prev" title="User guide" href="reference.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="TODO.html" title="Milestone"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="reference.html" title="User guide"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Bento v0.0.3dev8590e92813 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">FAQ</a><ul>
<li><a class="reference external" href="#why-to-create-a-new-tool">Why to create a new tool ?</a></li>
<li><a class="reference external" href="#why-not-extending-existing-tools-distutils-etc">Why not extending existing tools (distutils, etc...) ?</a></li>
<li><a class="reference external" href="#what-are-the-goals-of-bento">What are the goals of bento ?</a></li>
<li><a class="reference external" href="#surely-supporting-building-extensions-on-every-platform-is-a-huge-task">Surely, supporting building extensions on every platform is a huge task ?</a></li>
<li><a class="reference external" href="#what-about-existing-projects-using-distutils">What about existing projects using distutils ?</a></li>
<li><a class="reference external" href="#is-bento-based-on-existing-tools">Is bento based on existing tools ?</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="reference.html"
                                  title="previous chapter">User guide</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="TODO.html"
                                  title="next chapter">Milestone</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/faq.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-to-create-a-new-tool">
<h2>Why to create a new tool ?<a class="headerlink" href="#why-to-create-a-new-tool" title="Permalink to this headline">¶</a></h2>
<p>Bento is mainly born out of my frustration with distutils while dealing with
complex build issues in NumPy and SciPy. I found distutils poorly documented,
being tightly coupled internally, and inflexible. Other tools built on top only
made it worse by making putting more cruft over distutils instead of fixing it.</p>
</div>
<div class="section" id="why-not-extending-existing-tools-distutils-etc">
<h2>Why not extending existing tools (distutils, etc...) ?<a class="headerlink" href="#why-not-extending-existing-tools-distutils-etc" title="Permalink to this headline">¶</a></h2>
<p>There is a general consensus at least in the scientific python community that
distutils is deeply flawed:</p>
<blockquote>
<ul class="simple">
<li>The design by commands does not make much sense. Each command has its own
set of options, and getting the options from other commands is difficult,
if not impossible. For example, the install paths are only known once the
install command finalize_options has been run, but knowing the
install prefix at build time is often useful.</li>
<li>There is no documentation, and what consitutes public API is not
documented either. Consequently, every non trivial distutils extension
relies on internal details, and as such are inherently fragile.</li>
<li>Extending by inheritence does not work well: when two modules A and B
extend distutils, it becomes difficult for B to reuse A (for example,
dealing with setuptools in numpy.distutils extensions has been a constant
source of bugs).</li>
<li>Customizing compilation flags, and more generally some tools involved in
compilation is way too complicated. Again, using classes for compilers
and linkers does not make much sense, as inheritence as an extending
mechanism does not work well in this situation either. It also makes
adding new tools in the chain quite difficult.</li>
<li>Improving distutils to handle dependencies automatically (rebuild only
the necessary .c files) is difficult because of the way distutils is
designed.</li>
</ul>
</blockquote>
<p>Given the relatively small size of distutils code, the only asset is its &#8220;API&#8221;,
but fixing what&#8217;s wrong with distutils precisely means breaking the API. As
such, a new tool written from scratch, but taking inspiration of existing tools
elsewhere is much more likely to be successfull.</p>
<p>Finally, the current development happening on distutils-sig is mainly the work
of web-developers, who have a different vision of what packaging means.  Most
of their goals are specific to web-development needs, often against known good
practices for packaging.</p>
</div>
<div class="section" id="what-are-the-goals-of-bento">
<h2>What are the goals of bento ?<a class="headerlink" href="#what-are-the-goals-of-bento" title="Permalink to this headline">¶</a></h2>
<p>The main goal of bento is to separate the concerns on building, packaging and
package description, so that it can be easily reused within custom build
frameworks (make, waf, scons, etc...). A simple build system is also provided
so that simple packages do not need to deal with anything besides bento.</p>
<p>Bento aims at being part of a grander vision for Scientific computing, to
make something like CRAN available to python users.  By being simpler, more
explicit, it is hoped that bento will make the development of a
scientific-specific Pypi easier.</p>
</div>
<div class="section" id="surely-supporting-building-extensions-on-every-platform-is-a-huge-task">
<h2>Surely, supporting building extensions on every platform is a huge task ?<a class="headerlink" href="#surely-supporting-building-extensions-on-every-platform-is-a-huge-task" title="Permalink to this headline">¶</a></h2>
<p>Not really. When I started working on Numscons, a new build system for NumPy
and SciPy based on <a class="reference external" href="http://www.scons.org">SCons</a>, supporting C extensions was not very difficult
compared to interactions with distutils.  Numscons is around 2000 LOC (compared
to distutils 10 0000 LOC), and supports most major platforms, including Mac OS
X, Windows 32 and 64 bits, Linux, Free BSD, Solaris, etc... To be fair,
numscons depends on scons itself for some platform peculiarities, but so does
distutils (which relies on autoconf on many platforms).</p>
</div>
<div class="section" id="what-about-existing-projects-using-distutils">
<h2>What about existing projects using distutils ?<a class="headerlink" href="#what-about-existing-projects-using-distutils" title="Permalink to this headline">¶</a></h2>
<p>Bentomaker, the command line interface to bento, contains an experimental
command to convert existing setup.py to bento format.</p>
<p>I also believe it is possible to support most distutils/setuptools features in
bento file format, and convert a package description to a
distutils/setuptools Distribution instance. As conversion from bento to
distutils would be much easier to do reliably than the contrary, it could be
used as a transition, so that packages who have heavily invested in distutils
can still use distutils extensions.</p>
</div>
<div class="section" id="is-bento-based-on-existing-tools">
<h2>Is bento based on existing tools ?<a class="headerlink" href="#is-bento-based-on-existing-tools" title="Permalink to this headline">¶</a></h2>
<p>The main inspirations for bento current design are taken from:</p>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://www.haskell.org/cabal">Cabal</a>, the packaging tool for Haskell: the bento file format is
mainly an adaptation of Cabal to python.</li>
<li><a class="reference external" href="http://sources.redhat.com/autobook/">Autoconf</a>, for the flexible install scheme, automake&#8217;s way of declaring
extra distribution files (data files).</li>
<li><a class="reference external" href="http://rpm5.org/docs/api/specfile.html">RPM</a>, for the spec file format.</li>
<li>Setuptools: exe-based script generation on windows, egg format</li>
</ul>
</blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="TODO.html" title="Milestone"
             >next</a> |</li>
        <li class="right" >
          <a href="reference.html" title="User guide"
             >previous</a> |</li>
        <li><a href="index.html">Bento v0.0.3dev8590e92813 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, David Cournapeau.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>