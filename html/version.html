
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Version 0.2 &mdash; Bento 0.2-git835af09012 documentation</title>
    
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2-git835af09012',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Bento 0.2-git835af09012 documentation" href="index.html" />
 
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">Bento home</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">Documentation</a>
          &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="version-0-2">
<h1>Version 0.2<a class="headerlink" href="#version-0-2" title="Permalink to this headline">¶</a></h1>
<p>Released on .</p>
<p>Main features:</p>
<blockquote>
<div><ul class="simple">
<li>new build_msi command to build a MSI installer.</li>
</ul>
</div></blockquote>
<div class="section" id="fixed-issues">
<h2>Fixed issues<a class="headerlink" href="#fixed-issues" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="internals">
<h2>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="version-0-1">
<h1>Version 0.1<a class="headerlink" href="#version-0-1" title="Permalink to this headline">¶</a></h1>
<p>Released on 12th June 2012.</p>
<p>Main features:</p>
<blockquote>
<div><ul class="simple">
<li>new commands register_pypi and upload_pypi to register a package to
pypi and upload tarballs to it.</li>
<li>waf backend: cython tool automatically loaded if cython files are
detected in sources</li>
<li>UseBackends feature: allows to declare which build backend to use
when building C extensions in the bento.info file directly</li>
<li>add sphinx command to build a package documentation if it uses
sphinx.</li>
<li>add tweak_library/tweak_extension functions to build contexts to
simplify simple builder customization (e.g. include_dirs, defines,
etc...)</li>
<li>add simpler API to register output nodes</li>
<li>add &#8211;use-distutils-flags configure option to force using flags from
distutils (disabled by default).</li>
<li>add &#8211;disable-autoconfigure build option to bypass configure for fast
partial rebuilds. This is not reliable depending on how the
environment is changed, so one should only use this during
development.</li>
<li>add register_metadata API to register new metadata to be filled in
MetaTemplateFile</li>
<li>Deprecate MetaTemplateFile, and use MetaTemplateFiles instead to
allow for multiple template files</li>
</ul>
</div></blockquote>
<div class="section" id="id1">
<h2>Fixed issues<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id2">
<h2>Internals<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Test coverage has been significantly improved</li>
<li>Lots of code style fixes to make the codebase more consistent</li>
<li>build backend-specific code has been moved to bento.backends</li>
<li>parser code has been moved to bento.parser</li>
<li>last hook-related global variables have been removed</li>
<li>bentomaker itself does not use global variables anymore for either
caching or command/context/option registration</li>
<li>add backend concept: a backend knows how to register itself, to avoid
having to register command, context and options contexts separately</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-0-0-8-1">
<h1>Version 0.0.8.1<a class="headerlink" href="#version-0-0-8-1" title="Permalink to this headline">¶</a></h1>
<p>Released on .</p>
<p>Bugfix release</p>
<div class="section" id="id3">
<h2>Fixed issues<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>python 2.4-ism</li>
<li>fix in-place build/bootstrap issues for bento itself</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-0-0-8">
<h1>Version 0.0.8<a class="headerlink" href="#version-0-0-8" title="Permalink to this headline">¶</a></h1>
<p>Released on 26th March 2012.</p>
<p>While this release does not have big user-visible features, it brings lots of
internal improvements and bug fixes, especially for the convert command.</p>
<p>Main features:</p>
<blockquote>
<div><ul class="simple">
<li>Path sections can now use conditionals</li>
<li>More reliable convert command to migrate
distutils/setuptools/distribute/distutils2 packages to bento</li>
<li>Single-file distribution can now include waf itself</li>
<li>Nose is not necessary to run the test suite anymore</li>
<li>Significant improvements to the distutils compatibility layer</li>
<li>LibraryDir support for backward compatibility with distutils packages
relying on package_dir feature</li>
</ul>
</div></blockquote>
<div class="section" id="id4">
<h2>Fixed issues<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Running bento for python 2.x after having run it for 3.x does not crash
bento anymore</li>
<li>Using bento installed as root should now work (#46). This is still not
recommended, though</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id5">
<h2>Internals<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>move most global state from bento into bentomakerlib</li>
<li>add basic end-to-end tests for bento.distutils</li>
<li>bento.distutils simplified: it is going toward a &#8220;shell&#8221; around bento
with compatibility with pip/easy_install/virtualenv and away from a
distutils extension</li>
<li>six is now used to handle most 2/3 compatibilities.</li>
<li>convert-related code is now in its won package, and has some decent
functional tests for basic features.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-0-0-7">
<h1>Version 0.0.7<a class="headerlink" href="#version-0-0-7" title="Permalink to this headline">¶</a></h1>
<p>Released on 25th October 2011.</p>
<p>Main features:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>New bento.info fields:</dt>
<dd><ul class="first last simple">
<li>&#8216;DescriptionFromFile&#8217;: pointer to a file to read description from.</li>
<li>&#8216;Keywords&#8217; metadata field</li>
<li>&#8216;MetaTemplateFile&#8217;: pointer to template files to be filled with bento
metadata</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Support for DESTDIR-like feature to ease downstream packaging</p>
</li>
<li><p class="first">Comment support in bento.info</p>
</li>
<li><p class="first">Sdist now has a format option, and supports zip archive as well</p>
</li>
<li><p class="first">Builders in waf context now support arbitrary customization</p>
</li>
<li><p class="first">python 2 and 3 are supported from the same codebase to avoid
bootstrapping issues.</p>
</li>
</ul>
</div></blockquote>
<p>Fixes:</p>
<blockquote>
<div><ul class="simple">
<li>fix handling of customized flags when getting cached package information</li>
<li>fix classifier handling</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="version-0-0-6">
<h1>Version 0.0.6<a class="headerlink" href="#version-0-0-6" title="Permalink to this headline">¶</a></h1>
<p>Released on 13th July 2011.</p>
<p>Main features:</p>
<blockquote>
<div><ul class="simple">
<li>Preliminary support for .mpkg (Mac OS X native packaging)</li>
<li>More consistent API for extension/compiled library build registration</li>
<li>Build directory is now customizable through bentomaker with
&#8211;build-directory option</li>
<li>Out of tree builds support (i.e. running bento in a directory which does
not contain bento.info), with global &#8211;bento-info option</li>
<li>Completely revamped distutils compatibility layer: it is now a thin layer
around bento infrastructure, so that most bento packages should be
pip-installable, while still keeping bento customization capabilities.</li>
<li>Hook File can now be specified in recursed bento.info</li>
</ul>
</div></blockquote>
<div class="section" id="id6">
<h2>Internals<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Significantly better code coverage of bento commands.</li>
<li>Use node-based representation of package description in build and install</li>
<li>Cleanly separated source, cwd and build directories</li>
<li>Rewrote distutils compatibility layer to use command contexts.
Concretely, this means it works much closer to how bentomaker does, so
there should be less surprises between bentomaker and distutils
execution.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-0-0-5">
<h1>Version 0.0.5<a class="headerlink" href="#version-0-0-5" title="Permalink to this headline">¶</a></h1>
<p>Released on 8th March 2011. This is mostly a stabilization of features
implemented so far, with some code refactoring to enable easier customization
of the build process.  Main features:</p>
<blockquote>
<div><ul>
<li><p class="first">All python versions from 2.4 up to 3.1 now pass the test suite (3.2 will
follow once the distribute issue with 3.2 is fixed)</p>
</li>
<li><p class="first">If run under a virtual environment (virtualenv), bento will install the
package inside the virtualenvironment by default</p>
</li>
<li><p class="first">When a command depends on other commands, those are now automatically
run, e.g.:</p>
<div class="highlight-python"><pre>bentomaker build_egg # automatically run configure and build</pre>
</div>
</li>
<li><p class="first">Update to last yaku, which contains a lot of improvements (too many to
list here)</p>
</li>
<li><p class="first">Add &#8211;list-files option to install command to list files to be installed</p>
</li>
<li><p class="first">Add &#8211;transaction option to install to produce a &#8220;transaction log&#8221;. The
transaction log will enable rollback (a first step towards reliable
uninstall).</p>
</li>
<li><p class="first">Internal changes to enable easier change of build tool (a waf-based
example for simple extensions is available for waf 1.6.x)</p>
</li>
<li><p class="first">Added experimental distutils compatibility layer so that one can write a
setup.py which will pick up all information from bento.info. This enables
projects using bento to still be able to use tools such as pip.</p>
</li>
</ul>
</div></blockquote>
<div class="section" id="id7">
<h2>Internals<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Commands are now registered to a single global command registry</li>
<li>Commands are now run with a command-specific context, which can be
extended for further customization (e.g. waf support in the build stage).</li>
<li>Command dependency is now handled dynamically: order is set outside
command class definition, and order resolution is done at runtime with a
simple topological sort on the dependency order.</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-0-0-4">
<h1>Version 0.0.4<a class="headerlink" href="#version-0-0-4" title="Permalink to this headline">¶</a></h1>
<p>Released on 9th October 2010. Main features:</p>
<blockquote>
<div><ul class="simple">
<li>Add ConfigPy option to produce a simple config_py module. At the
moment, this module may be used to access installed data at
runtime without __file__ hack.</li>
<li>Add &#8216;not flag(flag_name)&#8217; and &#8216;not true|false&#8217; to the bento.info
grammar</li>
<li>Add &#8211;with-bundling option to disable bundling of
ply/yaku/simplejson to ease packaging for OS vendors</li>
<li>Recursive bento and hook files for complicated, nested packages
(scipy, twisted)</li>
<li>Numerous features to build numpy and scipy - experimental bento-based
build branches for both are available on <a class="reference external" href="http://github.com/cournape">http://github.com/cournape</a>
(_bento_build branches)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="version-0-0-3">
<h1>Version 0.0.3<a class="headerlink" href="#version-0-0-3" title="Permalink to this headline">¶</a></h1>
<p>Released on 2th July 2010. Main features:</p>
<blockquote>
<div><ul class="simple">
<li>Add hooks to customize arbitrary stages in bento</li>
<li>Parallel and reliable build of C extensions through yaku build
library.</li>
<li>One file distribution: no need for your users to install any new
packages, just include one single file into your package to
build with bento</li>
<li>Improved documentation</li>
<li>2.4 -&gt; 2.7 support</li>
</ul>
</div></blockquote>
<div class="section" id="toydist-renamed-to-bento">
<h2>Toydist renamed to bento<a class="headerlink" href="#toydist-renamed-to-bento" title="Permalink to this headline">¶</a></h2>
<p>Bento means lunchbox in Japanese. Bento are often well packaged, and
this software aims at doing the same for your python package.</p>
</div>
<div class="section" id="hook-mechanism">
<h2>Hook mechanism<a class="headerlink" href="#hook-mechanism" title="Permalink to this headline">¶</a></h2>
<p>It is now possible to override some bento commands with a hook file
which is just a python script. Although not well documented yet, it
should enable complex customization, like interfacing with a build
system (waf, scons, make), dynamically modify the package content,
etc... the examples/hooks directory contains a few simple examples.</p>
</div>
<div class="section" id="yaku-build-mini-framework">
<h2>Yaku, build mini-framework<a class="headerlink" href="#yaku-build-mini-framework" title="Permalink to this headline">¶</a></h2>
<p>In version 0.0.2, bento still depended on distutils internally to
build extensions. Bento now uses yaku, a mini build framework. Yaku
main features are:</p>
<blockquote>
<div><ul class="simple">
<li>File content-based tracking: if a file content is changed, it is
automatically rebuild</li>
<li>Environment changes detection: if the compilation options
change, the files are automatically rebuilt</li>
<li>Multiple jobs execution (experimental)</li>
<li>Easily customizable</li>
</ul>
</div></blockquote>
<p>It should noted that bento was conceived to be agnostic to the
build system, and will remain so. In particular, projects with complex
build issues are advised to use make, scons or waf. Future versions of
bento will contain helpers for some of those tools.</p>
</div>
<div class="section" id="one-file-distribution">
<h2>One file distribution<a class="headerlink" href="#one-file-distribution" title="Permalink to this headline">¶</a></h2>
<p>Bento now includes a one file distribution of itself, so that you only
need to include that one file in your project to use bento. The file
weights ~350 kb, and can be reduced to ~80 kb if you don&#8217;t need to
include windows binary installer support.</p>
</div>
<div class="section" id="improved-command-line-interface">
<h2>Improved command line interface<a class="headerlink" href="#improved-command-line-interface" title="Permalink to this headline">¶</a></h2>
<p>Internal changes:</p>
<blockquote>
<div><ul class="simple">
<li>Lots of internal cleaning</li>
<li>Replace hackish custom format by json for build manifest</li>
<li>Heavily refactor installed package description API</li>
<li>All the installers (install, egg and wininst buidlers) now share
most of their implementation</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-0-0-2">
<h1>Version 0.0.2<a class="headerlink" href="#version-0-0-2" title="Permalink to this headline">¶</a></h1>
<p>Released on the 22th April 2010:</p>
<blockquote>
<div><ul class="simple">
<li>Ply-based parser with (relatively) sane grammar</li>
<li>Windows installers and eggs building support</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="version-0-0-1">
<h1>Version 0.0.1<a class="headerlink" href="#version-0-0-1" title="Permalink to this headline">¶</a></h1>
<p>Unreleased, presented at Scipy India in December 2009.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Version 0.2</a><ul>
<li><a class="reference internal" href="#fixed-issues">Fixed issues</a></li>
<li><a class="reference internal" href="#internals">Internals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-1">Version 0.1</a><ul>
<li><a class="reference internal" href="#id1">Fixed issues</a></li>
<li><a class="reference internal" href="#id2">Internals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-0-8-1">Version 0.0.8.1</a><ul>
<li><a class="reference internal" href="#id3">Fixed issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-0-8">Version 0.0.8</a><ul>
<li><a class="reference internal" href="#id4">Fixed issues</a></li>
<li><a class="reference internal" href="#id5">Internals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-0-7">Version 0.0.7</a></li>
<li><a class="reference internal" href="#version-0-0-6">Version 0.0.6</a><ul>
<li><a class="reference internal" href="#id6">Internals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-0-5">Version 0.0.5</a><ul>
<li><a class="reference internal" href="#id7">Internals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-0-4">Version 0.0.4</a></li>
<li><a class="reference internal" href="#version-0-0-3">Version 0.0.3</a><ul>
<li><a class="reference internal" href="#toydist-renamed-to-bento">Toydist renamed to bento</a></li>
<li><a class="reference internal" href="#hook-mechanism">Hook mechanism</a></li>
<li><a class="reference internal" href="#yaku-build-mini-framework">Yaku, build mini-framework</a></li>
<li><a class="reference internal" href="#one-file-distribution">One file distribution</a></li>
<li><a class="reference internal" href="#improved-command-line-interface">Improved command line interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-0-2">Version 0.0.2</a></li>
<li><a class="reference internal" href="#version-0-0-1">Version 0.0.1</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/version.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">Bento home</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">Documentation</a>
          &raquo;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2011, David Cournapeau.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>